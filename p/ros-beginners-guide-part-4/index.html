<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="Let's dive deeper into ROS topics and understand how they work under the hood."><title>Beginner‚Äôs Guide to ROS ‚Äî Part 4 ‚ÄúServices In-Depth‚Äù Tutorial</title><link rel=canonical href=https://thought.krishnashah.dev/p/ros-beginners-guide-part-4/><link rel=stylesheet href=/scss/style.min.833d6eed45de56f48306bf57268d5b8cdfc8a60e8e7bdc99810464fcd033f7c6.css><meta property='og:title' content="Beginner‚Äôs Guide to ROS ‚Äî Part 4 ‚ÄúServices In-Depth‚Äù Tutorial"><meta property='og:description' content="Let's dive deeper into ROS topics and understand how they work under the hood."><meta property='og:url' content='https://thought.krishnashah.dev/p/ros-beginners-guide-part-4/'><meta property='og:site_name' content='Thoughts From a Dragonfly'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='ROS'><meta property='article:tag' content='Robotics'><meta property='article:tag' content='Tutorial'><meta property='article:published_time' content='2022-04-01T00:00:00+00:00'><meta property='article:modified_time' content='2022-04-01T00:00:00+00:00'><meta property='og:image' content='https://thought.krishnashah.dev/p/ros-beginners-guide-part-4/cover.png'><meta name=twitter:title content="Beginner‚Äôs Guide to ROS ‚Äî Part 4 ‚ÄúServices In-Depth‚Äù Tutorial"><meta name=twitter:description content="Let's dive deeper into ROS topics and understand how they work under the hood."><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://thought.krishnashah.dev/p/ros-beginners-guide-part-4/cover.png'><link rel="shortcut icon" href=/favicon.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_3706edba391e6d38.png width=300 height=321 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>üß†</span></figure><div class=site-meta><h1 class=site-name><a href=/>Thoughts From a Dragonfly</a></h1><h2 class=site-description>Premier place to hear the thoughts of a mere Dragonfly who learned to outlive the dinosaurs.</h2></div></header><ol class=menu-social><li><a href=https://github.com/DragonflyRobotics target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://krishnashah.dev target=_blank title=Home rel=me><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#recap-what-is-a-service>Recap: What is a Service</a><ol><li><a href=#format-of-this-and-future-articles>Format of this and future articles:</a></li></ol></li><li><a href=#task-1>Task 1</a><ol><li><a href=#process>Process</a></li></ol></li><li><a href=#programming>Programming</a><ol><li><a href=#making-a-ros-package>Making a ROS Package</a></li><li><a href=#running-it>Running it</a></li><li><a href=#receive-data-programmatically>Receive Data Programmatically</a></li></ol></li><li><a href=#conclusion>Conclusion</a></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/ros-beginners-guide-part-4/><img src=/p/ros-beginners-guide-part-4/cover_hu_ef409cd45c40e666.png srcset="/p/ros-beginners-guide-part-4/cover_hu_ef409cd45c40e666.png 800w, /p/ros-beginners-guide-part-4/cover_hu_830c1d326b30f4c8.png 1600w" width=800 height=312 loading=lazy alt="Featured image of post Beginner‚Äôs Guide to ROS ‚Äî Part 4 ‚ÄúServices In-Depth‚Äù Tutorial"></a></div><div class=article-details><header class=article-category><a href=/categories/ros/>ROS
</a><a href=/categories/robotics/>Robotics
</a><a href=/categories/tutorial/>Tutorial</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/ros-beginners-guide-part-4/>Beginner‚Äôs Guide to ROS ‚Äî Part 4 ‚ÄúServices In-Depth‚Äù Tutorial</a></h2><h3 class=article-subtitle>Let's dive deeper into ROS topics and understand how they work under the hood.</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published datetime=2022-04-01T00:00:00Z>Apr 01, 2022</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>8 minute read</time></div></footer></div></header><section class=article-content><p><a class=link href=1.gif>See here for animation</a></p><h2 id=recap-what-is-a-service>Recap: What is a Service</h2><p>Remember from the <a class=link href=/p/ros-beginners-guide-part-1/>first part</a> of this series, services are a node that allows you to give and input to get the desired output. If we want to add values, we can make a service that takes two numbers, sums them, and responds with the sum. Remember, they don‚Äôt publish continuously. They only respond when the service is called.</p><p>All good? Time to serve some nodes!</p><hr><h3 id=format-of-this-and-future-articles>Format of this and future articles:</h3><p>It is important to understand how this article will go. We will go through an example together. I believe that knowledge can only be attained through practical examples.</p><hr><h2 id=task-1>Task 1</h2><p>Take in 2 numbers and respond with the product of those numbers.</p><h3 id=process>Process</h3><p>A node will programmatically call the service and we must do the following:</p><ul><li>Get inputs</li><li>Compute product</li><li>Respond via topic the product</li></ul><h2 id=programming>Programming</h2><h3 id=making-a-ros-package>Making a ROS Package</h3><p>First, we have to make a ROS package which will be our node. That node will contain the code to make a topic and publish the message. There is a built-in command to do this using catkin.</p><p>First, though, navigate to the workspace:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> catkin_ws/src
</span></span></code></pre></td></tr></table></div></div><p><strong>NOTE</strong>: You MUST be in <code>src</code>.</p><p>Then run this:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>catkin_create_pkg basic_ros_service std_msgs rospy roscpp --pkg_version 0.0.1 --description <span class=s2>&#34;Basic ROS Service&#34;</span> --license MIT --author <span class=s2>&#34;Krishna&#34;</span> --maintainer <span class=s2>&#34;Krishna&#34;</span> --rosdistro <span class=s2>&#34;noetic&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>Yikes! That is a lot so let me break it down.</p><ul><li>First, we have <code>catkin_create_pkg</code> which is the base command.</li><li>Next comes the name of the package, in this case <code>basic_ros_service</code>. This can be anything.</li><li>Then, we add all the dependencies of the package. Here, we have 3: <code>std_msgs</code> <code>rospy</code> <code>roscpp</code><ul><li><code>std_msgs</code> is a ROS package that contains a bunch of data types like <code>Float64</code>, <code>String</code>, <code>Int64</code>, and more!</li><li><code>rospy</code> is a library that contains methods for using ROS with Python. This is what we will use today.</li><li><code>roscpp</code> is a library that contains methods for using ROS with C++. We will NOT use this today.</li><li><code>rosdistro</code> states the distribution of ROS we are using. In this case, it is ROS <em>‚Äúnoetic‚Äù</em>. (This is optional as long as you have sourced your ROS environment)</li><li><strong>Note</strong>: Services have additional requirements that we will manually add later!</li></ul></li></ul><p>Everything that is mandatory to install has been done. Now on to the optional stuff.</p><ul><li>These parts are really self-explanatory. It includes the license, description, author, maintainer, and version.</li><li>You don‚Äôt need this but it is a good practice to keep.</li></ul><p>Now, list the files in the directory. You will see this:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=cl>basic_ros_service  CMakeLists.txt
</span></span></code></pre></td></tr></table></div></div><p>Go to <code>basic_ros_service</code> and list again.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=cl>CMakeLists.txt  include  package.xml  src
</span></span></code></pre></td></tr></table></div></div><ul><li><code>CMakeLists.txt</code> ‚Äî contains all the info catkin needs to compile the project. It contains a list of the libraries, files, packages, and other stuff it has to compile. We will come back to it later.</li><li><code>package.xml</code> ‚Äî contains info like package owner, description, version, maintainer, license, etc. We filled some of it earlier. The only important thing in it is the dependencies definitions. Our command already did this previously.</li></ul><p>It looks like this:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl>***A BUNCH OF OTHER STUFF***
</span></span><span class=line><span class=cl><span class=c>&lt;!-- The *depend tags are used to specify dependencies --&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- Dependencies can be catkin packages or system dependencies --&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- Examples: --&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- Use depend as a shortcut for packages that are both build and exec dependencies --&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!--   &lt;depend&gt;roscpp&lt;/depend&gt; --&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!--   Note that this is equivalent to the following: --&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!--   &lt;build_depend&gt;roscpp&lt;/build_depend&gt; --&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!--   &lt;exec_depend&gt;roscpp&lt;/exec_depend&gt; --&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- Use build_depend for packages you need at compile time: --&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!--   &lt;build_depend&gt;message_generation&lt;/build_depend&gt; --&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- Use build_export_depend for packages you need in order to build against this package: --&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!--   &lt;build_export_depend&gt;message_generation&lt;/build_export_depend&gt; --&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- Use buildtool_depend for build tool packages: --&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!--   &lt;buildtool_depend&gt;catkin&lt;/buildtool_depend&gt; --&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- Use exec_depend for packages you need at runtime: --&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!--   &lt;exec_depend&gt;message_runtime&lt;/exec_depend&gt; --&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- Use test_depend for packages you need only for testing: --&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!--   &lt;test_depend&gt;gtest&lt;/test_depend&gt; --&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- Use doc_depend for packages you need only for building documentation: --&gt;</span>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!--   &lt;doc_depend&gt;doxygen&lt;/doc_depend&gt; --&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;buildtool_depend&gt;</span>catkin<span class=nt>&lt;/buildtool_depend&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;build_depend&gt;</span>roscpp<span class=nt>&lt;/build_depend&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;build_depend&gt;</span>rospy<span class=nt>&lt;/build_depend&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;build_depend&gt;</span>std_msgs<span class=nt>&lt;/build_depend&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;build_export_depend&gt;</span>roscpp<span class=nt>&lt;/build_export_depend&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;build_export_depend&gt;</span>rospy<span class=nt>&lt;/build_export_depend&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;build_export_depend&gt;</span>std_msgs<span class=nt>&lt;/build_export_depend&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;exec_depend&gt;</span>roscpp<span class=nt>&lt;/exec_depend&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;exec_depend&gt;</span>rospy<span class=nt>&lt;/exec_depend&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;exec_depend&gt;</span>std_msgs<span class=nt>&lt;/exec_depend&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=c>&lt;!-- The export tag contains other, unspecified, tags --&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;export&gt;</span>
</span></span><span class=line><span class=cl>    <span class=c>&lt;!-- Other tools can request additional information be placed here --&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;/export&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/package&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>That bottom part with the <code>buildtool_depend</code> and <code>build_depend</code> statements define the important libraries.</p><p>First, we must make a folder in our package called <code>srv/</code>. This will hold our custom service. In it make a file called <code>Product.srv</code>. Put this in it:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=cl>float64 a
</span></span><span class=line><span class=cl>float64 b
</span></span><span class=line><span class=cl>---
</span></span><span class=line><span class=cl>float64 product
</span></span></code></pre></td></tr></table></div></div><p>The first 2 float statements are the input. Then we put <code>---</code> to show ROS that we are now defining the output. Lastly, we have the output. This allows us to define custom services with custom inputs and outputs.</p><p>Navigate to the src within that. Now you should be in <code>USERNAME/catkin_ws/src/PACKAGE_NAME/src</code>.</p><p>Here is where we put all of our code! Make a file called <code>ProductServer.py</code>. Again, names aren‚Äôt super important.</p><p>Here is your file structure right now:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=cl>catkin_ws
</span></span><span class=line><span class=cl>  - build
</span></span><span class=line><span class=cl>  - devel
</span></span><span class=line><span class=cl>  - src
</span></span><span class=line><span class=cl>    - basic_ros_service
</span></span><span class=line><span class=cl>      - CMakeLists.txt
</span></span><span class=line><span class=cl>      - package.xml
</span></span><span class=line><span class=cl>      - include {This directory contains nothing}
</span></span><span class=line><span class=cl>      - CMakeLists.txt
</span></span><span class=line><span class=cl>      - src
</span></span><span class=line><span class=cl>        - ProductServer.py
</span></span><span class=line><span class=cl>      - srv
</span></span><span class=line><span class=cl>        - Product.srv
</span></span></code></pre></td></tr></table></div></div><p>Now let‚Äôs start on the code itself. First, you have to import the <code>rospy</code> and <code>std_msgs</code>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python3 data-lang=python3><span class=line><span class=cl><span class=ch>#!/usr/bin/env python3</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>__future__</span> <span class=kn>import</span> <span class=n>print_function</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>basic_ros_service.srv</span> <span class=kn>import</span> <span class=n>Product</span><span class=p>,</span> <span class=n>ProductResponse</span> <span class=c1># Import the compiled version of our service. There aren&#39;t files called ProductResponse but ROS will understand that. </span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>rospy</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>math</span>
</span></span></code></pre></td></tr></table></div></div><p>Now we make the function that serves the clients.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python3 data-lang=python3><span class=line><span class=cl><span class=k>def</span> <span class=nf>product_func</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>):</span> <span class=c1># Actual multiplication function</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>a</span><span class=o>*</span><span class=n>b</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>compute</span><span class=p>(</span><span class=n>req</span><span class=p>):</span> <span class=c1># Find the product from the inputs req.a and req.b and return the product.</span>
</span></span><span class=line><span class=cl>    <span class=n>product</span> <span class=o>=</span> <span class=n>product_func</span><span class=p>(</span><span class=n>req</span><span class=o>.</span><span class=n>a</span><span class=p>,</span> <span class=n>req</span><span class=o>.</span><span class=n>b</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Returning [</span><span class=si>%s</span><span class=s2>]&#34;</span> <span class=o>%</span> <span class=p>(</span><span class=n>product</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>ProductResponse</span><span class=p>(</span><span class=n>product</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>product_server</span><span class=p>():</span> <span class=c1># Start the node and server.</span>
</span></span><span class=line><span class=cl>    <span class=n>rospy</span><span class=o>.</span><span class=n>init_node</span><span class=p>(</span><span class=s1>&#39;basic_ros_service&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>s</span> <span class=o>=</span> <span class=n>rospy</span><span class=o>.</span><span class=n>Service</span><span class=p>(</span><span class=s1>&#39;basic_ros_service&#39;</span><span class=p>,</span> <span class=n>Product</span><span class=p>,</span> <span class=n>compute</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Ready to compute.&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>rospy</span><span class=o>.</span><span class=n>spin</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><p>And then we can run it with this:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python3 data-lang=python3><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>product_server</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>IMPORTANT</strong>: You much make sure that your Python file is executable. sudo chmod +x ProductServer.py</p><p>Go the <code>CMakeLists.txt</code> and add our python script to the file. This will make sure that catkin will compile it.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=cl>include_directories(
</span></span><span class=line><span class=cl># include
</span></span><span class=line><span class=cl>  ${catkin_INCLUDE_DIRS}
</span></span><span class=line><span class=cl>  src/ProductServer.py
</span></span><span class=line><span class=cl>)
</span></span></code></pre></td></tr></table></div></div><p>Then, we need to make our SRV file that also needs to be compiled. Add the following lines to your <code>CMakeLists.txt</code>:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=cl>## Generate services in the &#39;srv&#39; folder
</span></span><span class=line><span class=cl> add_service_files(
</span></span><span class=line><span class=cl>   FILES
</span></span><span class=line><span class=cl>   Product.srv
</span></span><span class=line><span class=cl>)## Generate added messages and services with any dependencies listed here
</span></span><span class=line><span class=cl> generate_messages(
</span></span><span class=line><span class=cl>   DEPENDENCIES
</span></span><span class=line><span class=cl>   std_msgs
</span></span><span class=line><span class=cl> )
</span></span></code></pre></td></tr></table></div></div><p>Also, add a dependency to the <code>find_package</code> section:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-plaintext data-lang=plaintext><span class=line><span class=cl>find_package(catkin REQUIRED COMPONENTS
</span></span><span class=line><span class=cl>  roscpp
</span></span><span class=line><span class=cl>  rospy
</span></span><span class=line><span class=cl>  std_msgs
</span></span><span class=line><span class=cl>  message_generation
</span></span><span class=line><span class=cl>)
</span></span></code></pre></td></tr></table></div></div><p>We also need to add this dependency to our package.xml. Add the following lines next to all your other depend statements:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl>  <span class=nt>&lt;build_depend&gt;</span>message_generation<span class=nt>&lt;/build_depend&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;exec_depend&gt;</span>message_runtime<span class=nt>&lt;/exec_depend&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>Now go back to <code>catkin_ws</code>. Run <code>catkin_make</code>. Source the directory <code>source devel/setup.bash</code>.</p><p>If it compiles, the hardest part is over!</p><h3 id=running-it>Running it</h3><p>Start roscore: <code>roscore</code>. Now, start serving: <code>rosrun basic_ros_service ProductServer.py</code>.</p><p>Check the node using <code>rosnode list</code>. We will see our <code>basic_ros_service</code> service.</p><p>Check the service using <code>rosservice list</code>. We will see our <code>basic_ros_service</code> service and some logger services. Let us try calling our service using CLI.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>rosservice call /basic_ros_service <span class=s2>&#34;a: 2.0
</span></span></span><span class=line><span class=cl><span class=s2>b: 2.0&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p><em>Hint</em>: If you forget the format of the command hit TAB twice and it will auto-populate the command.</p><p>We will see our result of 4.0.</p><h3 id=receive-data-programmatically>Receive Data Programmatically</h3><p>Import libraries:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python3 data-lang=python3><span class=line><span class=cl><span class=ch>#!/usr/bin/env python3from __future__ import print_functionimport sys</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>rospy</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>basic_ros_service.srv</span> <span class=kn>import</span> <span class=o>*</span>
</span></span></code></pre></td></tr></table></div></div><p>Define client function and make the appropriate call:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python3 data-lang=python3><span class=line><span class=cl><span class=k>def</span> <span class=nf>product_client</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=n>rospy</span><span class=o>.</span><span class=n>wait_for_service</span><span class=p>(</span><span class=s1>&#39;basic_ros_service&#39;</span><span class=p>)</span> <span class=c1># Find our service</span>
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>solver</span> <span class=o>=</span> <span class=n>rospy</span><span class=o>.</span><span class=n>ServiceProxy</span><span class=p>(</span><span class=s1>&#39;basic_ros_service&#39;</span><span class=p>,</span> <span class=n>Product</span><span class=p>)</span> <span class=c1># Connect to the service</span>
</span></span><span class=line><span class=cl>        <span class=n>resp1</span> <span class=o>=</span> <span class=n>solver</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>)</span> <span class=c1># Make a request</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>resp1</span><span class=o>.</span><span class=n>product</span> <span class=c1># Return the result</span>
</span></span><span class=line><span class=cl>    <span class=k>except</span> <span class=n>rospy</span><span class=o>.</span><span class=n>ServiceException</span> <span class=k>as</span> <span class=n>e</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Service call failed: </span><span class=si>%s</span><span class=s2>&#34;</span><span class=o>%</span><span class=n>e</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>Make the usage helper in case we forget how to use it:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python3 data-lang=python3><span class=line><span class=cl><span class=k>def</span> <span class=nf>usage</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=s2>&#34;</span><span class=si>%s</span><span class=s2> [a b]&#34;</span><span class=o>%</span><span class=n>sys</span><span class=o>.</span><span class=n>argv</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p>Run the functions from the CLI arguments:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python3 data-lang=python3><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=nb>len</span><span class=p>(</span><span class=n>sys</span><span class=o>.</span><span class=n>argv</span><span class=p>)</span> <span class=o>==</span> <span class=mi>3</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=n>a</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=n>sys</span><span class=o>.</span><span class=n>argv</span><span class=p>[</span><span class=mi>1</span><span class=p>])</span>
</span></span><span class=line><span class=cl>        <span class=n>b</span> <span class=o>=</span> <span class=nb>float</span><span class=p>(</span><span class=n>sys</span><span class=o>.</span><span class=n>argv</span><span class=p>[</span><span class=mi>2</span><span class=p>])</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=nb>print</span><span class=p>(</span><span class=n>usage</span><span class=p>())</span>
</span></span><span class=line><span class=cl>        <span class=n>sys</span><span class=o>.</span><span class=n>exit</span><span class=p>(</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;Requesting </span><span class=si>%s</span><span class=s2>*</span><span class=si>%s</span><span class=s2>&#34;</span><span class=o>%</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>))</span>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=s2>&#34;</span><span class=si>%s</span><span class=s2> * </span><span class=si>%s</span><span class=s2> = </span><span class=si>%s</span><span class=s2>&#34;</span><span class=o>%</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>product_client</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>)))</span>
</span></span></code></pre></td></tr></table></div></div><p>Again, remember to change the permissions of the file. And run it the same way as the publisher.</p><p>To run it, do <code>rosrun basic_ros_service ProductClient.py 2 2</code>.</p><h2 id=conclusion>Conclusion</h2><p>In this article, you learned how to make a Service Server and Client. You also learned how to make custom messages in the form of service. Lastly, you dived a little deeper into the <code>CMakeLists</code> and the <code>message_generation</code> library. If you encounter any errors or have any questions, leave a comment. I will try my best to help you. I hope you enjoyed it. If there is a particular topic in ROS that you want me to cover, let me know in the comments as well!</p></section><footer class=article-footer><section class=article-tags><a href=/tags/ros/>ROS</a>
<a href=/tags/robotics/>Robotics</a>
<a href=/tags/tutorial/>Tutorial</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/p/ros-beginners-guide-part-3/><div class=article-image><img src=/p/ros-beginners-guide-part-3/cover.10bcaf8293a8efd8f86447a808d4e040_hu_4689f95164cd233c.png width=250 height=150 loading=lazy alt="Featured image of post Beginner‚Äôs Guide to ROS ‚Äî Part 3 ‚ÄúTopics In-Depth‚Äù Tutorial" data-key=ros-beginners-guide-part-3 data-hash="md5-ELyvgpOo79j4ZEeoCNTgQA=="></div><div class=article-details><h2 class=article-title>Beginner‚Äôs Guide to ROS ‚Äî Part 3 ‚ÄúTopics In-Depth‚Äù Tutorial</h2></div></a></article><article class=has-image><a href=/p/ros-beginners-guide-part-1/><div class=article-image><img src=/p/ros-beginners-guide-part-1/cover.a852cabab8201adf20a0ca1c33bf78b9_hu_97528d8bf2434cf0.png width=250 height=150 loading=lazy alt="Featured image of post Beginner's Guide to ROS ‚Äî Part 1 ‚ÄúThe Working Principle‚Äù Tutorial" data-key=ros-beginners-guide-part-1 data-hash="md5-qFLKurggGt8goMocM794uQ=="></div><div class=article-details><h2 class=article-title>Beginner's Guide to ROS ‚Äî Part 1 ‚ÄúThe Working Principle‚Äù Tutorial</h2></div></a></article><article class=has-image><a href=/p/ros-beginners-guide-part-2/><div class=article-image><img src=/p/ros-beginners-guide-part-2/cover.11f6ba603c2e954ffcf8e8b4912cc04c_hu_4ce74c5bf8f0b352.jpg width=250 height=150 loading=lazy alt="Featured image of post Beginner‚Äôs Guide to ROS ‚Äî Part 2 ‚ÄúInstallation and First Run‚Äù Tutorial" data-key=ros-beginners-guide-part-2 data-hash="md5-Efa6YDwulU/8+Oi0kSzATA=="></div><div class=article-details><h2 class=article-title>Beginner‚Äôs Guide to ROS ‚Äî Part 2 ‚ÄúInstallation and First Run‚Äù Tutorial</h2></div></a></article></div></div></aside><div class=disqus-container><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//hugo-theme-stack.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{typeof DISQUS=="object"&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2025 Thoughts From a Dragonfly</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.33.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.c922af694cc257bf1ecc41c0dd7b0430f9114ec280ccf67cd2c6ad55f5316c4e.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>